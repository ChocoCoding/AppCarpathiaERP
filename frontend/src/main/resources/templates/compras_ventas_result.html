<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Pedidos de la operacion: </title>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="/css/estilos_costes_compra.css">
</head>
<body>
<header>
  <div class="actions">
    <div class="left-actions">
      <button class="icon-button" onclick="CosteCompraApp.goBack()">
        <span class="icon">ğŸ”™</span> <!-- Icono de Volver AtrÃ¡s -->
      </button>
    </div>
    <div class="center-actions">
      <button class="icon-button" onclick="CosteCompraApp.guardarCambios()">
        <span class="icon">ğŸ’¾</span> <!-- Icono de Guardar -->
      </button>
      <button class="icon-button" onclick="CosteCompraApp.crearCosteCompra()">
        <span class="icon">â•</span> <!-- Icono de Crear LÃ­nea -->
      </button>
      <div class="search-container">
        <button class="search-button" onclick="CosteCompraApp.toggleSearch()">ğŸ”</button>
        <button class="filter-button" onclick="CosteCompraApp.toggleFilter()">âš™ï¸</button>
        <input type="text" id="search-input" oninput="CosteCompraApp.filtrarCostes()" placeholder="Buscar..." style="display: none;">
      </div>
    </div>
    <div class="right-actions">
      <button class="icon-button" onclick="CosteCompraApp.logout()">
        <span class="icon">ğŸ”’</span> <!-- Icono de Cerrar SesiÃ³n -->
      </button>
    </div>
  </div>
</header>


<!-- Mostrar Mensaje de Error si no hay datos -->
<div th:if="${mensaje}">
  <p th:text="${mensaje}"></p>
</div>

<!-- Mostrar Datos si existen -->
<div th:if="${comprasVentas != null}">
  <h3>Pedidos del Numero de operacion:  <span th:text="${comprasVentas.pedidoCompra.n_operacion}"></span></h3>
  <!-- InformaciÃ³n de Compras -->
  <h2>InformaciÃ³n de Compra</h2>
  <div th:if="${comprasVentas.pedidoCompra != null}">
    <p><strong>ID Pedido Compra:</strong> <span th:text="${comprasVentas.pedidoCompra.idPedidoCompra}"></span></p>
    <p><strong>NÃºmero de OperaciÃ³n:</strong> <span th:text="${comprasVentas.pedidoCompra.n_operacion}"></span></p>
    <p><strong>NÃºmero de Contenedor:</strong> <span th:text="${comprasVentas.pedidoCompra.n_contenedor}"></span></p>
    <p><strong>Proforma:</strong> <span th:text="${comprasVentas.pedidoCompra.proforma}"></span></p>
    <p><strong>Proveedor:</strong> <span th:text="${comprasVentas.pedidoCompra.proveedor}"></span></p>
    <p><strong>Cliente:</strong> <span th:text="${comprasVentas.pedidoCompra.cliente}"></span></p>
    <p><strong>Incoterm:</strong> <span th:text="${comprasVentas.pedidoCompra.incoterm}"></span></p>
    <p><strong>Referencia Proveedor:</strong> <span th:text="${comprasVentas.pedidoCompra.referenciaProveedor}"></span></p>
  </div>
  <div th:if="${comprasVentas.pedidoCompra == null}">
    <p>No hay informaciÃ³n de compra asociada al nÃºmero de operaciÃ³n.</p>
  </div>

  <!-- InformaciÃ³n de Ventas -->
  <h2>InformaciÃ³n de Ventas</h2>
  <div th:if="${comprasVentas.pedidosVenta != null and !comprasVentas.pedidosVenta.isEmpty()}">
    <table border="1">
      <thead>
      <tr>
        <th>ID Pedido Venta</th>
        <th>NÃºmero de OperaciÃ³n</th>
        <th>Proforma</th>
        <th>Proveedor</th>
        <th>Incoterm</th>
        <th>Referencia Proveedor</th>

      </tr>
      </thead>
      <tbody>
      <tr th:each="pedidoVenta : ${comprasVentas.pedidosVenta}">
        <td th:text="${pedidoVenta.idPedidoVenta}"></td>
        <td th:text="${pedidoVenta.n_operacion}"></td>
        <td th:text="${pedidoVenta.proforma}"></td>
        <td th:text="${pedidoVenta.proveedor}"></td>
        <td th:text="${pedidoVenta.incoterm}"></td>
        <td th:text="${pedidoVenta.referenciaProveedor}"></td>
      </tr>
      </tbody>
    </table>
  </div>
  <div th:if="${comprasVentas.pedidosVenta == null or comprasVentas.pedidosVenta.isEmpty()}">
    <p>No hay informaciÃ³n de ventas asociadas al nÃºmero de operaciÃ³n.</p>
  </div>
</div>

<br/>
<a href="/compras-ventas">Consultar Otro NÃºmero de OperaciÃ³n</a>
<br/>
<a href="/compras_ventas">Volver al Inicio</a>
</body>
</html>
