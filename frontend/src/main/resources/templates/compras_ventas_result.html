<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Pedidos de la operacion: </title>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="/css/estilos_costes_compra.css">
</head>
<body>
<header>
  <div class="actions">
    <div class="left-actions">
      <button class="icon-button" onclick="CosteCompraApp.goBack()">
        <span class="icon">🔙</span> <!-- Icono de Volver Atrás -->
      </button>
    </div>
    <div class="center-actions">
      <button class="icon-button" onclick="CosteCompraApp.guardarCambios()">
        <span class="icon">💾</span> <!-- Icono de Guardar -->
      </button>
      <button class="icon-button" onclick="CosteCompraApp.crearCosteCompra()">
        <span class="icon">➕</span> <!-- Icono de Crear Línea -->
      </button>
      <div class="search-container">
        <button class="search-button" onclick="CosteCompraApp.toggleSearch()">🔍</button>
        <button class="filter-button" onclick="CosteCompraApp.toggleFilter()">⚙️</button>
        <input type="text" id="search-input" oninput="CosteCompraApp.filtrarCostes()" placeholder="Buscar..." style="display: none;">
      </div>
    </div>
    <div class="right-actions">
      <button class="icon-button" onclick="CosteCompraApp.logout()">
        <span class="icon">🔒</span> <!-- Icono de Cerrar Sesión -->
      </button>
    </div>
  </div>
</header>


<!-- Mostrar Mensaje de Error si no hay datos -->
<div th:if="${mensaje}">
  <p th:text="${mensaje}"></p>
</div>

<!-- Mostrar Datos si existen -->
<div th:if="${comprasVentas != null}">
  <h3>Pedidos del Numero de operacion:  <span th:text="${comprasVentas.pedidoCompra.n_operacion}"></span></h3>
  <!-- Información de Compras -->
  <h2>Información de Compra</h2>
  <div th:if="${comprasVentas.pedidoCompra != null}">
    <p><strong>ID Pedido Compra:</strong> <span th:text="${comprasVentas.pedidoCompra.idPedidoCompra}"></span></p>
    <p><strong>Número de Operación:</strong> <span th:text="${comprasVentas.pedidoCompra.n_operacion}"></span></p>
    <p><strong>Número de Contenedor:</strong> <span th:text="${comprasVentas.pedidoCompra.n_contenedor}"></span></p>
    <p><strong>Proforma:</strong> <span th:text="${comprasVentas.pedidoCompra.proforma}"></span></p>
    <p><strong>Proveedor:</strong> <span th:text="${comprasVentas.pedidoCompra.proveedor}"></span></p>
    <p><strong>Cliente:</strong> <span th:text="${comprasVentas.pedidoCompra.cliente}"></span></p>
    <p><strong>Incoterm:</strong> <span th:text="${comprasVentas.pedidoCompra.incoterm}"></span></p>
    <p><strong>Referencia Proveedor:</strong> <span th:text="${comprasVentas.pedidoCompra.referenciaProveedor}"></span></p>
  </div>
  <div th:if="${comprasVentas.pedidoCompra == null}">
    <p>No hay información de compra asociada al número de operación.</p>
  </div>

  <!-- Información de Ventas -->
  <h2>Información de Ventas</h2>
  <div th:if="${comprasVentas.pedidosVenta != null and !comprasVentas.pedidosVenta.isEmpty()}">
    <table border="1">
      <thead>
      <tr>
        <th>ID Pedido Venta</th>
        <th>Número de Operación</th>
        <th>Proforma</th>
        <th>Proveedor</th>
        <th>Incoterm</th>
        <th>Referencia Proveedor</th>

      </tr>
      </thead>
      <tbody>
      <tr th:each="pedidoVenta : ${comprasVentas.pedidosVenta}">
        <td th:text="${pedidoVenta.idPedidoVenta}"></td>
        <td th:text="${pedidoVenta.n_operacion}"></td>
        <td th:text="${pedidoVenta.proforma}"></td>
        <td th:text="${pedidoVenta.proveedor}"></td>
        <td th:text="${pedidoVenta.incoterm}"></td>
        <td th:text="${pedidoVenta.referenciaProveedor}"></td>
      </tr>
      </tbody>
    </table>
  </div>
  <div th:if="${comprasVentas.pedidosVenta == null or comprasVentas.pedidosVenta.isEmpty()}">
    <p>No hay información de ventas asociadas al número de operación.</p>
  </div>
</div>

<br/>
<a href="/compras-ventas">Consultar Otro Número de Operación</a>
<br/>
<a href="/compras_ventas">Volver al Inicio</a>
</body>
</html>
